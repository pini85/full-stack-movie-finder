{"ast":null,"code":"var _jsxFileName = \"/home/pinchas/code/projects/movie-finder/src/components/AdvancedSearch/AdvancedSearch.component.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Container, TopSearchContainer, BottomSearchContainer, SearchContainer, AdvancedSearchResultContainer, ButtonContainer, Divider } from \"./AdvancedSearch.styles\";\nimport { fetchGenres, createAdvancedSearch, fetchAdvancedSearch, showSearchResults } from \"../../redux/actions/index\";\nimport useDidUpdateEffect from \"../../hooks/useDidUpdateEffect.hooks\";\nimport findGenreWithId from \"../../utlis/findGenreWithId\";\nimport Cast from \"../Cast/Cast.component\";\nimport SelectInput from \"../SelectInput/SelectInput.component\";\nimport AdvancedSearchResult from \"../advancedSearchResult/AdvancedSearchResult.component\";\nimport AdvancedSearchSaved from \"../AdvancedSearchSaved/AdvancedSearchSaved.component\";\nimport CategoryTitle from \"../CategoryTitle/CategoryTitle.component\";\nimport Button from \"../Button/Button\";\n\nconst AdvancedSearch = props => {\n  const [createYears, setCreateYears] = useState(null);\n  const [createRating, setCreateRating] = useState(null);\n  const [createGenres, setCreateGenres] = useState(null);\n  const [createRunTime, setCreateRunTime] = useState(null);\n  const [createVoteCount, setCreateVoteCount] = useState(null);\n  const [fromYear, setFromYear] = useState(\"\");\n  const [toYear, setToYear] = useState(\"\");\n  const [rating, setRating] = useState(\"\");\n  const [voteCount, setVoteCount] = useState(\"\");\n  const [genres, setGenres] = useState(\"\");\n  const [displayGenre, setDisplayGenre] = useState(\"\");\n  const [runTime, setRunTime] = useState(\"\");\n  const [actors, setActors] = useState(\"\");\n  const [actorsArray, setActorsArray] = useState([]);\n  const [castActorsOption, setCastActorsOption] = useState(null);\n  const [directors, setDirectors] = useState(\"\");\n  const [directorsArray, setDirectorsArray] = useState([]);\n  const [castDirectorsOption, setCastDirectorsOption] = useState(null);\n  const [writers, setWriters] = useState(\"\");\n  const [writersArray, setWritersArray] = useState([]);\n  const [castWritersOption, setCastWritersOption] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      await props.fetchGenres();\n    };\n\n    fetchData();\n    let years = [];\n\n    for (let i = new Date().getFullYear(); i > 1902; i--) {\n      years.push( /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, i));\n    }\n\n    setCreateYears(years);\n    let rating = [];\n\n    for (let i = 9; i >= 0; i--) {\n      rating.push( /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, i));\n    }\n\n    setCreateRating(rating);\n    let voteCount = [];\n\n    for (let i = 0; i < voteCounts.length; i++) {\n      voteCount.push( /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: voteCounts[i],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, voteCounts[i]));\n    }\n\n    setCreateVoteCount(voteCount);\n    let runTime = [];\n\n    const modifyRunTimeText = runTimes => {\n      switch (runTimes) {\n        case \"Any run time\":\n          return runTimes;\n\n        case 1:\n          return `${runTimes} hour - 1.5 hours`;\n\n        case 1.5:\n          return `${runTimes} hours - ${runTimes + 0.5} hours`;\n\n        case 2:\n          return `${runTimes} hours - ${runTimes + 1} hours`;\n\n        case 3:\n          return `more than ${runTimes} hours`;\n      }\n    };\n\n    for (let i = 0; i < runTimes.length; i++) {\n      runTime.push( /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: runTimes[i],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      }, modifyRunTimeText(runTimes[i])));\n    }\n\n    setCreateRunTime(runTime);\n  }, []);\n  useDidUpdateEffect(() => {\n    const type = findGenreWithId(props.genres, genres);\n    setDisplayGenre(type);\n  }, [genres]);\n  useEffect(() => {\n    let genres = [];\n\n    if (props.genres) {\n      for (let i = 0; i < props.genres.length; i++) {\n        genres.push( /*#__PURE__*/React.createElement(\"option\", {\n          key: i,\n          value: props.genres[i].id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }\n        }, props.genres[i].name));\n        setCreateGenres(genres);\n      }\n    }\n  }, [props.genres]);\n  const voteCounts = [20000, 15000, 10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 500, 100];\n  const runTimes = [\"Any run time\", 1, 1.5, 2, 3];\n\n  const handleOnChange = e => {\n    const type = e.target.getAttribute(\"data-tag\");\n    const value = e.target.value;\n\n    switch (type) {\n      case \"from-year\":\n        setFromYear(value);\n        break;\n\n      case \"to-year\":\n        setToYear(value);\n        break;\n\n      case \"rating\":\n        setRating(parseInt(value));\n        break;\n\n      case \"vote-count\":\n        setVoteCount(parseInt(value));\n        break;\n\n      case \"genres\":\n        setGenres(value);\n        break;\n\n      case \"run-time\":\n        setRunTime(isNaN(value * 60) ? value : parseFloat(value) * 60);\n        break;\n\n      case \"actors\":\n        setActors(value);\n        break;\n\n      case \"directors\":\n        setDirectors(value);\n        break;\n\n      case \"writers\":\n        setWriters(value);\n        break;\n\n      default:\n        return dnull;\n    }\n  };\n\n  const handleSubmit = () => {\n    let searchObj; // const editFromYear = `${fromYear}-01-01`;\n    // const editToYear = `${toYear}-01-01`;\n\n    if (props.displayAdvancedSearch) {\n      searchObj = {\n        fromYear: props.displayAdvancedSearch.search.fromYear,\n        toYear: props.displayAdvancedSearch.search.toYear,\n        rating: props.displayAdvancedSearch.search.rating,\n        voteCun: props.displayAdvancedSearch.search.voteCount,\n        genres: props.displayAdvancedSearch.search.genres,\n        runTe: props.displayAdvancedSearch.search.runTime,\n        actorsArray: {\n          option: \"or\",\n          values: props.displayAdvancedSearch.search.actors\n        },\n        directorsArray: props.displayAdvancedSearch.search.directors,\n        writersArray: props.displayAdvancedSearch.search.writers\n      };\n    } else {\n      console.log(\"im in else\");\n      searchObj = {\n        fromYear: fromYear,\n        toYear: toYear,\n        rating,\n        voteCount,\n        genres,\n        runTime,\n        actorsArray: {\n          option: castActorsOption,\n          values: actorsArray\n        },\n        directorsArray: {\n          option: castDirectorsOption,\n          values: directorsArray\n        },\n        writersArray: {\n          option: castWritersOption,\n          values: writersArray\n        }\n      };\n    }\n\n    props.createAdvancedSearch(searchObj);\n    props.fetchAdvancedSearch(1);\n    props.showSearchResults(\"advanced-search\");\n\n    const createUrl = obj => {\n      let url = \"/advanced-search/\";\n      const fromY = searchObj.fromYear ? `fromYear=${searchObj.fromYear}` : \"\";\n      const toY = searchObj.toYear ? `&toYear=${searchObj.toYear}` : \"\";\n      const rating = searchObj.rating ? `&rating=${searchObj.rating}` : \"\";\n      const voteCount = searchObj.voteCount ? `&vote-vount=${searchObj.voteCount}` : \"\";\n      const genres = searchObj.genres ? `&generes=${searchObj.genres}` : \"\";\n      const runTime = searchObj.runTime ? `&runTime=${searchObj.runTime}` : \"\";\n      const actors = searchObj.actorsArray.values.length ? `&actors=${searchObj.actorsArray.values}` : \"\";\n      const directors = searchObj.directorsArray.values.length ? `&directors=${searchObj.directorsArray.values}` : \"\";\n      const writers = searchObj.writersArray.values.length ? `&writers=${searchObj.writersArray.values}` : \"\";\n      url += `${fromY}${toY}${rating}${voteCount}${genres}${runTime}${actors}${directors}${writers}`;\n      return url;\n    };\n\n    props.history.push(`${createUrl()}/page/1`); // /cars?color=blue&type=sedan&doors=4\n  };\n\n  const resetSearch = () => {\n    setFromYear(null);\n    setToYear(null);\n    setRating(null);\n    setVoteCount(null);\n    setGenres(null);\n    setRunTime(null);\n    setActorsArray([]);\n    setDirectorsArray([]);\n    setWritersArray([]);\n    setCastActorsOption(null);\n    setCastDirectorsOption(null);\n    setCastWritersOption(null);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CategoryTitle, {\n    title: \"advanced search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TopSearchContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SelectInput, {\n    value: fromYear,\n    name: \"from-year\",\n    title: \"From\",\n    data: createYears,\n    handleOnChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SelectInput, {\n    value: toYear,\n    name: \"to-year\",\n    title: \"To\",\n    data: createYears,\n    handleOnChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SelectInput, {\n    value: rating,\n    name: \"rating\",\n    title: \"Minimum Rating\",\n    data: createRating,\n    handleOnChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SelectInput, {\n    value: voteCount,\n    name: \"vote-count\",\n    title: \"Minimum Votes\",\n    data: createVoteCount,\n    handleOnChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SelectInput, {\n    value: genres,\n    name: \"genres\",\n    title: \"Genres\",\n    data: createGenres,\n    handleOnChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SelectInput, {\n    value: runTime,\n    name: \"run-time\",\n    title: \"Minimum Runtime\",\n    data: createRunTime,\n    handleOnChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(BottomSearchContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Cast, {\n    type: \"Acting\",\n    placeholder: \"actors\",\n    advancedSearchValue: actors,\n    advancedSearchSetValue: setActors,\n    setCastArray: setActorsArray,\n    setCastOption: setCastActorsOption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Cast, {\n    type: \"Directing\",\n    placeholder: \"directors\",\n    advancedSearchValue: directors,\n    advancedSearchSetValue: setDirectors,\n    setCastArray: setDirectorsArray,\n    setCastOption: setCastDirectorsOption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Cast, {\n    type: \"Writing\",\n    placeholder: \"writers\",\n    advancedSearchValue: writers,\n    advancedSearchSetValue: setWriters,\n    setCastArray: setWritersArray,\n    setCastOption: setCastWritersOption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ButtonContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    handleClick: handleSubmit,\n    title: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(AdvancedSearchResultContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AdvancedSearchResult, {\n    fromYear: fromYear,\n    toYear: toYear,\n    rating: rating,\n    voteCount: voteCount,\n    runTime: runTime,\n    genres: displayGenre,\n    actors: actorsArray,\n    directors: directorsArray,\n    writers: writersArray,\n    handleClick: resetSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdvancedSearchSaved, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 9\n    }\n  })));\n};\n\nconst mapStateToProps = state => ({\n  genres: state.genres,\n  advancedSearch: state.advancedSearch,\n  displayAdvancedSearch: state.displayUserAdvancedSearch\n});\n\nconst mapStateToDispatch = {\n  fetchGenres: fetchGenres,\n  createAdvancedSearch: createAdvancedSearch,\n  fetchAdvancedSearch: fetchAdvancedSearch,\n  showSearchResults: showSearchResults\n};\nexport default compose(withRouter, connect(mapStateToProps, mapStateToDispatch))(AdvancedSearch);","map":{"version":3,"sources":["/home/pinchas/code/projects/movie-finder/src/components/AdvancedSearch/AdvancedSearch.component.jsx"],"names":["React","useState","useEffect","connect","compose","withRouter","Container","TopSearchContainer","BottomSearchContainer","SearchContainer","AdvancedSearchResultContainer","ButtonContainer","Divider","fetchGenres","createAdvancedSearch","fetchAdvancedSearch","showSearchResults","useDidUpdateEffect","findGenreWithId","Cast","SelectInput","AdvancedSearchResult","AdvancedSearchSaved","CategoryTitle","Button","AdvancedSearch","props","createYears","setCreateYears","createRating","setCreateRating","createGenres","setCreateGenres","createRunTime","setCreateRunTime","createVoteCount","setCreateVoteCount","fromYear","setFromYear","toYear","setToYear","rating","setRating","voteCount","setVoteCount","genres","setGenres","displayGenre","setDisplayGenre","runTime","setRunTime","actors","setActors","actorsArray","setActorsArray","castActorsOption","setCastActorsOption","directors","setDirectors","directorsArray","setDirectorsArray","castDirectorsOption","setCastDirectorsOption","writers","setWriters","writersArray","setWritersArray","castWritersOption","setCastWritersOption","fetchData","years","i","Date","getFullYear","push","voteCounts","length","modifyRunTimeText","runTimes","type","id","name","handleOnChange","e","target","getAttribute","value","parseInt","isNaN","parseFloat","dnull","handleSubmit","searchObj","displayAdvancedSearch","search","voteCun","runTe","option","values","console","log","createUrl","obj","url","fromY","toY","history","resetSearch","mapStateToProps","state","advancedSearch","displayUserAdvancedSearch","mapStateToDispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n  Container,\n  TopSearchContainer,\n  BottomSearchContainer,\n  SearchContainer,\n  AdvancedSearchResultContainer,\n  ButtonContainer,\n  Divider,\n} from \"./AdvancedSearch.styles\";\nimport {\n  fetchGenres,\n  createAdvancedSearch,\n  fetchAdvancedSearch,\n  showSearchResults,\n} from \"../../redux/actions/index\";\nimport useDidUpdateEffect from \"../../hooks/useDidUpdateEffect.hooks\";\nimport findGenreWithId from \"../../utlis/findGenreWithId\";\nimport Cast from \"../Cast/Cast.component\";\nimport SelectInput from \"../SelectInput/SelectInput.component\";\nimport AdvancedSearchResult from \"../advancedSearchResult/AdvancedSearchResult.component\";\nimport AdvancedSearchSaved from \"../AdvancedSearchSaved/AdvancedSearchSaved.component\";\nimport CategoryTitle from \"../CategoryTitle/CategoryTitle.component\";\n\nimport Button from \"../Button/Button\";\n\nconst AdvancedSearch = (props) => {\n  const [createYears, setCreateYears] = useState(null);\n  const [createRating, setCreateRating] = useState(null);\n  const [createGenres, setCreateGenres] = useState(null);\n  const [createRunTime, setCreateRunTime] = useState(null);\n  const [createVoteCount, setCreateVoteCount] = useState(null);\n  const [fromYear, setFromYear] = useState(\"\");\n  const [toYear, setToYear] = useState(\"\");\n  const [rating, setRating] = useState(\"\");\n  const [voteCount, setVoteCount] = useState(\"\");\n  const [genres, setGenres] = useState(\"\");\n  const [displayGenre, setDisplayGenre] = useState(\"\");\n  const [runTime, setRunTime] = useState(\"\");\n  const [actors, setActors] = useState(\"\");\n  const [actorsArray, setActorsArray] = useState([]);\n  const [castActorsOption, setCastActorsOption] = useState(null);\n  const [directors, setDirectors] = useState(\"\");\n  const [directorsArray, setDirectorsArray] = useState([]);\n  const [castDirectorsOption, setCastDirectorsOption] = useState(null);\n  const [writers, setWriters] = useState(\"\");\n  const [writersArray, setWritersArray] = useState([]);\n  const [castWritersOption, setCastWritersOption] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await props.fetchGenres();\n    };\n    fetchData();\n\n    let years = [];\n    for (let i = new Date().getFullYear(); i > 1902; i--) {\n      years.push(\n        <option key={i} value={i}>\n          {i}\n        </option>\n      );\n    }\n    setCreateYears(years);\n\n    let rating = [];\n    for (let i = 9; i >= 0; i--) {\n      rating.push(\n        <option key={i} value={i}>\n          {i}\n        </option>\n      );\n    }\n    setCreateRating(rating);\n\n    let voteCount = [];\n    for (let i = 0; i < voteCounts.length; i++) {\n      voteCount.push(\n        <option key={i} value={voteCounts[i]}>\n          {voteCounts[i]}\n        </option>\n      );\n    }\n    setCreateVoteCount(voteCount);\n\n    let runTime = [];\n    const modifyRunTimeText = (runTimes) => {\n      switch (runTimes) {\n        case \"Any run time\":\n          return runTimes;\n        case 1:\n          return `${runTimes} hour - 1.5 hours`;\n        case 1.5:\n          return `${runTimes} hours - ${runTimes + 0.5} hours`;\n        case 2:\n          return `${runTimes} hours - ${runTimes + 1} hours`;\n        case 3:\n          return `more than ${runTimes} hours`;\n      }\n    };\n\n    for (let i = 0; i < runTimes.length; i++) {\n      runTime.push(\n        <option key={i} value={runTimes[i]}>\n          {modifyRunTimeText(runTimes[i])}\n        </option>\n      );\n    }\n    setCreateRunTime(runTime);\n  }, []);\n\n  useDidUpdateEffect(() => {\n    const type = findGenreWithId(props.genres, genres);\n    setDisplayGenre(type);\n  }, [genres]);\n\n  useEffect(() => {\n    let genres = [];\n    if (props.genres) {\n      for (let i = 0; i < props.genres.length; i++) {\n        genres.push(\n          <option key={i} value={props.genres[i].id}>\n            {props.genres[i].name}\n          </option>\n        );\n        setCreateGenres(genres);\n      }\n    }\n  }, [props.genres]);\n  const voteCounts = [\n    20000,\n    15000,\n    10000,\n    9000,\n    8000,\n    7000,\n    6000,\n    5000,\n    4000,\n    3000,\n    2000,\n    1000,\n    500,\n    100,\n  ];\n  const runTimes = [\"Any run time\", 1, 1.5, 2, 3];\n\n  const handleOnChange = (e) => {\n    const type = e.target.getAttribute(\"data-tag\");\n    const value = e.target.value;\n\n    switch (type) {\n      case \"from-year\":\n        setFromYear(value);\n        break;\n      case \"to-year\":\n        setToYear(value);\n        break;\n      case \"rating\":\n        setRating(parseInt(value));\n        break;\n      case \"vote-count\":\n        setVoteCount(parseInt(value));\n        break;\n      case \"genres\":\n        setGenres(value);\n        break;\n      case \"run-time\":\n        setRunTime(isNaN(value * 60) ? value : parseFloat(value) * 60);\n        break;\n      case \"actors\":\n        setActors(value);\n        break;\n      case \"directors\":\n        setDirectors(value);\n        break;\n      case \"writers\":\n        setWriters(value);\n        break;\n      default:\n        return dnull;\n    }\n  };\n\n  const handleSubmit = () => {\n    let searchObj;\n    // const editFromYear = `${fromYear}-01-01`;\n    // const editToYear = `${toYear}-01-01`;\n    if (props.displayAdvancedSearch) {\n      searchObj = {\n        fromYear: props.displayAdvancedSearch.search.fromYear,\n        toYear: props.displayAdvancedSearch.search.toYear,\n        rating: props.displayAdvancedSearch.search.rating,\n        voteCun: props.displayAdvancedSearch.search.voteCount,\n        genres: props.displayAdvancedSearch.search.genres,\n        runTe: props.displayAdvancedSearch.search.runTime,\n        actorsArray: {\n          option: \"or\",\n          values: props.displayAdvancedSearch.search.actors,\n        },\n        directorsArray: props.displayAdvancedSearch.search.directors,\n        writersArray: props.displayAdvancedSearch.search.writers,\n      };\n    } else {\n      console.log(\"im in else\");\n\n      searchObj = {\n        fromYear: fromYear,\n        toYear: toYear,\n        rating,\n        voteCount,\n        genres,\n        runTime,\n        actorsArray: { option: castActorsOption, values: actorsArray },\n        directorsArray: { option: castDirectorsOption, values: directorsArray },\n        writersArray: { option: castWritersOption, values: writersArray },\n      };\n    }\n    props.createAdvancedSearch(searchObj);\n    props.fetchAdvancedSearch(1);\n    props.showSearchResults(\"advanced-search\");\n    const createUrl = (obj) => {\n      let url = \"/advanced-search/\";\n      const fromY = searchObj.fromYear ? `fromYear=${searchObj.fromYear}` : \"\";\n      const toY = searchObj.toYear ? `&toYear=${searchObj.toYear}` : \"\";\n      const rating = searchObj.rating ? `&rating=${searchObj.rating}` : \"\";\n      const voteCount = searchObj.voteCount\n        ? `&vote-vount=${searchObj.voteCount}`\n        : \"\";\n      const genres = searchObj.genres ? `&generes=${searchObj.genres}` : \"\";\n      const runTime = searchObj.runTime ? `&runTime=${searchObj.runTime}` : \"\";\n      const actors = searchObj.actorsArray.values.length\n        ? `&actors=${searchObj.actorsArray.values}`\n        : \"\";\n      const directors = searchObj.directorsArray.values.length\n        ? `&directors=${searchObj.directorsArray.values}`\n        : \"\";\n      const writers = searchObj.writersArray.values.length\n        ? `&writers=${searchObj.writersArray.values}`\n        : \"\";\n\n      url += `${fromY}${toY}${rating}${voteCount}${genres}${runTime}${actors}${directors}${writers}`;\n      return url;\n    };\n\n    props.history.push(`${createUrl()}/page/1`);\n    // /cars?color=blue&type=sedan&doors=4\n  };\n\n  const resetSearch = () => {\n    setFromYear(null);\n    setToYear(null);\n    setRating(null);\n    setVoteCount(null);\n    setGenres(null);\n    setRunTime(null);\n    setActorsArray([]);\n    setDirectorsArray([]);\n    setWritersArray([]);\n    setCastActorsOption(null);\n    setCastDirectorsOption(null);\n    setCastWritersOption(null);\n  };\n\n  return (\n    <Container>\n      <CategoryTitle title=\"advanced search\" />\n      <SearchContainer>\n        <TopSearchContainer>\n          <SelectInput\n            value={fromYear}\n            name=\"from-year\"\n            title=\"From\"\n            data={createYears}\n            handleOnChange={handleOnChange}\n          />\n          <SelectInput\n            value={toYear}\n            name=\"to-year\"\n            title=\"To\"\n            data={createYears}\n            handleOnChange={handleOnChange}\n          />\n          <SelectInput\n            value={rating}\n            name=\"rating\"\n            title=\"Minimum Rating\"\n            data={createRating}\n            handleOnChange={handleOnChange}\n          />\n          <SelectInput\n            value={voteCount}\n            name=\"vote-count\"\n            title=\"Minimum Votes\"\n            data={createVoteCount}\n            handleOnChange={handleOnChange}\n          />\n          <SelectInput\n            value={genres}\n            name=\"genres\"\n            title=\"Genres\"\n            data={createGenres}\n            handleOnChange={handleOnChange}\n          />\n          <SelectInput\n            value={runTime}\n            name=\"run-time\"\n            title=\"Minimum Runtime\"\n            data={createRunTime}\n            handleOnChange={handleOnChange}\n          />\n        </TopSearchContainer>\n        <BottomSearchContainer>\n          <Cast\n            type=\"Acting\"\n            placeholder=\"actors\"\n            advancedSearchValue={actors}\n            advancedSearchSetValue={setActors}\n            setCastArray={setActorsArray}\n            setCastOption={setCastActorsOption}\n          ></Cast>\n          <Cast\n            type=\"Directing\"\n            placeholder=\"directors\"\n            advancedSearchValue={directors}\n            advancedSearchSetValue={setDirectors}\n            setCastArray={setDirectorsArray}\n            setCastOption={setCastDirectorsOption}\n          ></Cast>\n          <Cast\n            type=\"Writing\"\n            placeholder=\"writers\"\n            advancedSearchValue={writers}\n            advancedSearchSetValue={setWriters}\n            setCastArray={setWritersArray}\n            setCastOption={setCastWritersOption}\n          ></Cast>\n        </BottomSearchContainer>\n      </SearchContainer>\n      <ButtonContainer>\n        <Button handleClick={handleSubmit} title=\"search\"></Button>\n      </ButtonContainer>\n\n      <AdvancedSearchResultContainer>\n        <AdvancedSearchResult\n          fromYear={fromYear}\n          toYear={toYear}\n          rating={rating}\n          voteCount={voteCount}\n          runTime={runTime}\n          genres={displayGenre}\n          actors={actorsArray}\n          directors={directorsArray}\n          writers={writersArray}\n          handleClick={resetSearch}\n        />\n        <Divider></Divider>\n        <AdvancedSearchSaved></AdvancedSearchSaved>\n      </AdvancedSearchResultContainer>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  genres: state.genres,\n  advancedSearch: state.advancedSearch,\n  displayAdvancedSearch: state.displayUserAdvancedSearch,\n});\n\nconst mapStateToDispatch = {\n  fetchGenres: fetchGenres,\n  createAdvancedSearch: createAdvancedSearch,\n  fetchAdvancedSearch: fetchAdvancedSearch,\n  showSearchResults: showSearchResults,\n};\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, mapStateToDispatch)\n)(AdvancedSearch);\n"]},"metadata":{},"sourceType":"module"}