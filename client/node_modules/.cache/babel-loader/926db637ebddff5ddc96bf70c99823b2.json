{"ast":null,"code":"var _jsxFileName = \"/home/pinchas/code/projects/movie-finder/src/components/spinners/BouncingDvd/BouncingDvd.component.jsx\";\nimport React, { useEffect, useRef } from \"react\";\nimport { CanvasContainer } from \"./BouncingDvd.styles\";\nimport useWidth from \"../../../hooks/useWidth.hooks\";\n\nconst BouncingDvd = () => {\n  const width = useWidth().width;\n  const height = useWidth().height;\n  const el = document.getElementById(\"app\");\n  const style = getComputedStyle(el);\n  let scale = 0.5; //0.11 0.5\n  //40 25\n\n  let logoColor;\n  const canvasRef = useRef(null);\n  let dvd = {\n    x: 300,\n    y: 400,\n    xSpeed: 8,\n    ySpeed: 8,\n    speed: 25,\n    img: new Image(),\n    background: style.getPropertyValue(\"--secondary-color\")\n  };\n  useEffect(() => {\n    main();\n  }, []);\n\n  function vh(v) {\n    var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    return v * h / 100;\n  }\n\n  const main = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const imgPath = \"https://i.ibb.co/pJ8CK41/DVD-1.png\";\n    dvd.img.src = imgPath;\n    canvas.width = width; //\n    //\n\n    canvas.height = height - vh(7); // pickColor();\n\n    update();\n  };\n\n  const update = () => {\n    let ctx;\n    setTimeout(() => {\n      const canvas = canvasRef.current;\n\n      if (canvas) {\n        ctx = canvas.getContext(\"2d\");\n        ctx.fillStyle = dvd.background;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = logoColor || \"#82d8d8\";\n        ctx.fillRect(dvd.x, dvd.y, dvd.img.width * scale, dvd.img.height * scale);\n        ctx.drawImage(dvd.img, dvd.x, dvd.y, dvd.img.width * scale, dvd.img.height * scale);\n        dvd.x += dvd.xSpeed;\n        dvd.y += dvd.ySpeed;\n        checkHitBox();\n        update();\n      }\n    }, dvd.speed);\n  };\n\n  const checkHitBox = () => {\n    const canvas = canvasRef.current;\n\n    if (canvas) {\n      if (dvd.x + dvd.img.width * scale >= canvas.width || dvd.x <= 0) {\n        dvd.xSpeed *= -1;\n        pickColor();\n      }\n\n      if (dvd.y + dvd.img.height * scale >= canvas.height || dvd.y <= 0) {\n        dvd.ySpeed *= -1;\n        pickColor();\n      }\n    }\n  };\n\n  function pickColor() {\n    let r, g, b;\n    r = Math.random() * (254 - 0) + 0;\n    g = Math.random() * (254 - 0) + 0;\n    b = Math.random() * (254 - 0) + 0;\n    logoColor = \"rgb(\" + r + \",\" + g + \", \" + b + \")\";\n  }\n\n  return /*#__PURE__*/React.createElement(CanvasContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\n    id: \"tv-screen\",\n    ref: canvasRef,\n    width: 1000,\n    height: 1000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default BouncingDvd;","map":{"version":3,"sources":["/home/pinchas/code/projects/movie-finder/src/components/spinners/BouncingDvd/BouncingDvd.component.jsx"],"names":["React","useEffect","useRef","CanvasContainer","useWidth","BouncingDvd","width","height","el","document","getElementById","style","getComputedStyle","scale","logoColor","canvasRef","dvd","x","y","xSpeed","ySpeed","speed","img","Image","background","getPropertyValue","main","vh","v","h","Math","max","documentElement","clientHeight","window","innerHeight","canvas","current","ctx","getContext","imgPath","src","update","setTimeout","fillStyle","fillRect","drawImage","checkHitBox","pickColor","r","g","b","random"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { CanvasContainer } from \"./BouncingDvd.styles\";\nimport useWidth from \"../../../hooks/useWidth.hooks\";\nconst BouncingDvd = () => {\n  const width = useWidth().width;\n  const height = useWidth().height;\n  const el = document.getElementById(\"app\");\n  const style = getComputedStyle(el);\n\n  let scale = 0.5;\n  //0.11 0.5\n  //40 25\n  let logoColor;\n  const canvasRef = useRef(null);\n  let dvd = {\n    x: 300,\n    y: 400,\n    xSpeed: 8,\n    ySpeed: 8,\n    speed: 25,\n    img: new Image(),\n    background: style.getPropertyValue(\"--secondary-color\"),\n  };\n\n  useEffect(() => {\n    main();\n  }, []);\n  function vh(v) {\n    var h = Math.max(\n      document.documentElement.clientHeight,\n      window.innerHeight || 0\n    );\n    return (v * h) / 100;\n  }\n\n  const main = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const imgPath = \"https://i.ibb.co/pJ8CK41/DVD-1.png\";\n    dvd.img.src = imgPath;\n    canvas.width = width;\n    //\n    //\n    canvas.height = height - vh(7);\n\n    // pickColor();\n    update();\n  };\n  const update = () => {\n    let ctx;\n    setTimeout(() => {\n      const canvas = canvasRef.current;\n      if (canvas) {\n        ctx = canvas.getContext(\"2d\");\n        ctx.fillStyle = dvd.background;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = logoColor || \"#82d8d8\";\n        ctx.fillRect(\n          dvd.x,\n          dvd.y,\n          dvd.img.width * scale,\n          dvd.img.height * scale\n        );\n        ctx.drawImage(\n          dvd.img,\n          dvd.x,\n          dvd.y,\n          dvd.img.width * scale,\n          dvd.img.height * scale\n        );\n        dvd.x += dvd.xSpeed;\n        dvd.y += dvd.ySpeed;\n        checkHitBox();\n        update();\n      }\n    }, dvd.speed);\n  };\n  const checkHitBox = () => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      if (dvd.x + dvd.img.width * scale >= canvas.width || dvd.x <= 0) {\n        dvd.xSpeed *= -1;\n\n        pickColor();\n      }\n\n      if (dvd.y + dvd.img.height * scale >= canvas.height || dvd.y <= 0) {\n        dvd.ySpeed *= -1;\n        pickColor();\n      }\n    }\n  };\n  function pickColor() {\n    let r, g, b;\n    r = Math.random() * (254 - 0) + 0;\n    g = Math.random() * (254 - 0) + 0;\n    b = Math.random() * (254 - 0) + 0;\n\n    logoColor = \"rgb(\" + r + \",\" + g + \", \" + b + \")\";\n  }\n\n  return (\n    <CanvasContainer>\n      {/* <h1>{width}</h1>\n      <h1>{height}</h1> */}\n      <canvas id=\"tv-screen\" ref={canvasRef} width={1000} height={1000} />\n    </CanvasContainer>\n  );\n};\nexport default BouncingDvd;\n"]},"metadata":{},"sourceType":"module"}